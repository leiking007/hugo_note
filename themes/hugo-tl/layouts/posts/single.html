{{ define "main" }}
  <div id="post-single" class="prose max-w-full">
    <div>
      <h1 id="title">{{ .Title }}
        {{ if .Params.tags }}
          {{ range (.GetTerms "tags") }}
          <small>
            <a  href='{{ .RelPermalink }}'>{{- .LinkTitle -}}</a>
          </small>
          {{ end }}
        {{ end }}
    </h1>
    </div>
    <section class="d-flex fs-6">
      <span class="mx-2"><i class="bi bi-calendar2-event me-1"></i>{{ .Date.Format (default "January 2, 2006" .Site.Params.DateFormat) }}</span>
      <span class="mx-2"><i class="bi bi-brush-fill me-1"></i>{{- T "article.wordCount" .WordCount -}}</span>
      <span class="mx-2"><i class="bi bi-clock me-1"></i>{{- T "article.readingTime" .ReadingTime -}}</span>
    </section>
    <div>
      <article id="content" >
        {{ .Content }}
      </article>
    </div>
    <aside id="meta">
      <div class="d-flex justify-content-around mt-5 mb-2">
        {{ with .PrevInSection }}
        <div><a href="{{.Permalink}}"><i class="bi bi-chevron-double-left"></i> {{.Title}}</a></div>
        {{ end }}
        {{ with .NextInSection }}
        <div><a href="{{.Permalink}}"> {{.Title}}<i class="bi bi-chevron-double-right"></i></a></div>
        {{ end }}
      </div>
    </aside>
  </div>
{{ end }}

{{ define "right" }}
  {{/*  默认启用菜单  */}}
  {{/*  配置参数，设置为true 或 未设置 ，结果为true   */}}
  {{- $TOCManuallyEnable := eq (eq $.Site.Params.toc false) false -}}

  {{/*  文章配置的toc，设置为true 或 未设置 ，结果为true  */}}
  {{- $pageTocEnable := eq (eq .Params.toc false) false -}}

  {{/*  判断目录长度 长度大于50 结果为true  */}}
  {{- $hasTOC := ge (len .TableOfContents) 100 -}}

  {{  if and (and $hasTOC $pageTocEnable) $TOCManuallyEnable }}
  <div id="postTocOuter" class="max-h-128 overflow-y-auto sticky top-1 bg-white rounded-lg shadow-sm p-6 ">
    <h4>{{- T "article.tableOfContents" | default "tableOfContents" -}}</h4>
    {{ .TableOfContents }}
  </div>
  {{ end }}
{{ end }}